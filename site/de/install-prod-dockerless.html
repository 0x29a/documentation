<!DOCTYPE html>
<html lang="de">
<head>
    <title>
        
Installation ohne Docker

    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="/static/css/bookwyrm.css">
    <link type="text/css" rel="stylesheet" href="/static/css/icons.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bulma.min.css">

    <link rel="shortcut icon" type="image/x-icon" href="/static/images/favicon.ico">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bookwyrm Documentation">
    <meta name="og:title" content="Bookwyrm Documentation">
    <meta name="twitter:description" content="Documentation for using and contributing to BookWyrm">
    <meta name="og:description" content="Documentation for using and contributing to BookWyrm">

    <meta name="twitter:image" content="">
    <meta name="og:image" content="">
    <meta name="twitter:image:alt" content="BookWyrm Logo">

    <meta charset="UTF-8">
</head>
<body>
<nav class="navbar container is-max-desktop" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="https://joinbookwyrm.com/">
            <img class="image logo" src="/static/images/logo-small.png" alt="Go back to the homepage">
        </a>
    </div>

    <div class="navbar-menu" id="main-nav">
        <div class="navbar-start">
            <a href="https://joinbookwyrm.com/de/instances" class="navbar-item">
                <span class="button is-success">Beitreten</span>
            </a>
            <a href="https://joinbookwyrm.com/de/get-involved" class="navbar-item">
                Machen Sie mit
            </a>
            <a href="https://www.patreon.com/bookwyrm" class="navbar-item">
                Unterstützung
            </a>
            <a href="https://github.com/bookwyrm-social/bookwyrm" class="navbar-item">
                Code
            </a>
            <a href="#" class="navbar-item is-active">
                Dokumentation
            </a>
        </div>
    </div>
    <div class="navbar-end">
        <div class="navbar-item">
            <div class="select">
                <select aria-label="Select a language" id="language_selection">
                    
                    <option value="" >English (US)</option>
                    
                    <option value="de/" selected>Deutsch</option>
                    
                    <option value="fr/" >Français</option>
                    
                    <option value="pl/" >Polski</option>
                    
                    <option value="pt-br/" >Português do Brasil</option>
                    
                    <option value="ro/" >Română</option>
                    
              </select>
            </div>
        </div>
    </div>
</nav>

<div class="container is-max-desktop">
<section class="section">

    <header class="content block column is-offset-one-quarter pl-2">
        
<h1 class="title is-1">Installation ohne Docker</h1>

    </header>
    <div class="columns">
	<nav class="menu column is-one-quarter mt-2">
            <h2 class="menu-label"><a href="/de/">Welcome</a></h2>
            
            <h2 class="menu-label">Using BookWyrm</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/de/posting-statuses.html" >Beitragsstatus</a>
                </li>
                
                <li>
                    <a href="/de/adding-books.html" >Bücher hinzufügen</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Running BookWyrm</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/de/install-prod.html" >Installation in Produktion</a>
                </li>
                
                <li>
                    <a href="/de/install-prod-dockerless.html" class="is-active">Installation ohne Docker</a>
                </li>
                
                <li>
                    <a href="/de/updating.html" >Ihre Instanz updaten</a>
                </li>
                
                <li>
                    <a href="/de/reverse-proxy.html" >Verwenden eines Reverse-Proxy</a>
                </li>
                
                <li>
                    <a href="/de/moderation.html" >Moderation</a>
                </li>
                
                <li>
                    <a href="/de/monitoring-queue.html" >Überwachungswarteschlange</a>
                </li>
                
                <li>
                    <a href="/de/external-storage.html" >Externer Speicher</a>
                </li>
                
                <li>
                    <a href="/de/optional_features.html" >Optionale Funktionen</a>
                </li>
                
                <li>
                    <a href="/de/cli.html" >Befehlszeilenwerkzeug</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Contributing</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/de/contributing.html" >Wie mitmachen</a>
                </li>
                
                <li>
                    <a href="/de/translation.html" >Übersetzungen</a>
                </li>
                
                <li>
                    <a href="/de/install-dev.html" >Entwicklungsumgebung</a>
                </li>
                
                <li>
                    <a href="/de/style_guide.html" >Stilleitfaden</a>
                </li>
                
                <li>
                    <a href="/de/debug_toolbar.html" >Django Debug-Symbolleiste</a>
                </li>
                
            </ul>
            
            <h2 class="menu-label">Codebase</h2>
            <ul class="menu-list">
                
                <li>
                    <a href="/de/activitypub.html" >ActivityPub</a>
                </li>
                
                <li>
                    <a href="/de/permissions.html" >Berechtigungen</a>
                </li>
                
            </ul>
            
        </nav>

        <div class="column">
            
<section class="block content">
    <p>Dieses Projekt ist noch jung und, im Moment, nicht sehr stabil. Bitte verwende es nur mit Vorsicht in Produktion. Diese Methode der Installation benötigt mehr Können und ist daher für erfahrene Administrator*innen. Docker Installation wird empfohlen Diese Installationsmethode geht davon aus, dass Du bereits SSL mit verfügbaren Zertifikaten konfiguriert hast</p>
<h2>Servereinrichtung</h2>
<ul>
<li>Holen Dir eine Domain und konfiguriere DNS für Deinen Server. Du musst die Nameserver Deiner Domain bei Deinem DNS-Provider auf den Server verweisen, auf dem Du BookWyrm betreibst. Hier sind Anweisungen für <a href="https://www.digitalocean.com/community/tutorials/how-to-point-to-digitalocean-nameservers-from-common-domain-registrars">DigitalOcean</a></li>
<li>Setze Deiner Server mit geeigneter Firewall für den Betrieb einer Web-Anwendung auf (dieser Befehlssatz ist mit Ubuntu 20.04 getestet). Hier ist eine Anleitung für <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04">DigitalOcean</a></li>
<li>Richte einen E-Mail-Dienst (wie <a href="https://documentation.mailgun.com/en/latest/quickstart.html">Mailgun</a>) und die entsprechenden SMTP/DNS-Einstellungen ein. Benutze die Dokumentation des Dienstes für die Konfiguration Deines DNS</li>
<li>Abhängigkeiten installieren. Auf Debian könnte das wie <code>apt install postgresql redis nginx python3-venv libpq-dev</code> aussehen.</li>
</ul>
<h2>BookWyrm installieren und konfigurieren</h2>
<p>Die <code>-Produktion</code> Zweig von BookWyrm enthält eine Reihe von Werkzeugen die nicht auf dem <code>Haupt-</code> -Zweig sind, die für den Betrieb in der Produktion geeignet sind zum Beispiel <code>docker-compose</code> Änderungen, um die Standardbefehle oder die Konfiguration von Containern zu aktualisieren und individuelle Änderungen an der Container-Konfiguration, um Dinge wie SSL oder regelmäßige Sicherungen zu aktivieren. Nicht alle diese Änderungen wirken sich auf die Installation ohne Docker aus, aber der <code>-production</code>-Zweig wird immer noch empfohlen</p>
<p>Anleitung für das Ausführen von BookWyrm in Produktion ohne Docker:</p>
<ul>
<li>Erstelle und betrete das Verzeichnis, in das Du  BookWyrm installieren willst. Für das Beispiel: <code>/opt/bookwyrm</code>: <code>mkdir /opt/bookwyrm &amp;&amp; cd /opt/bookwyrm</code></li>
<li>Hole den Quelltext: <code>git clone git@github.com:bookwyrm-social/bookwyrm.git ./</code></li>
<li>Wechsel in den <code>production</code>-zweig: <code>git checkout production</code></li>
<li>Create your environment variables file, <code>cp .env.example .env</code>, and update the following:<ul>
<li><code>SECRET_KEY</code> | Eine schwer zu erratende geheime Zeichenfolge</li>
<li><code>DOMAIN</code> | Deine Web-Domain</li>
<li><code>POSTGRES_PASSWORD</code> | Setze ein sicheres Passwort für die Datenbank</li>
<li><code>POSTGRES_HOST</code> | Auf <code>localhost</code> (setzen die Maschine auf der Deine Datenbank läuft)</li>
<li><code>POSTGRES_USER</code> | Auf <code>bookwyrm</code> setzen (empfohlen) oder etwas Eigenes. (später konfiguriert)</li>
<li><code>POSTGRES_DB</code> | Auf <code>Bookwyrm</code> setzen</li>
<li><code>REDIS_ACTIVITY_PASSWORD</code> | Auf nichts setzen (auf einem lokalen Rechner mit einer Firewall)</li>
<li><code>REDIS_ACTIVITY_HOST</code> | Auf  <code>localhost</code> setzen (die Maschine, auf der  redis läuft)</li>
<li><code>REDIS_BROKER_PASSWORD</code> | Auf nichts setzen (auf einem lokalen Rechner mit einer Firewall)</li>
<li><code>REDIS_BROKER_HOST</code> | Auf  <code>localhost</code> setzen (die Maschine, auf der  redis läuft)</li>
<li><code>EMAIL_HOST_USER</code> | Die "von"-Adresse, die Deine App beim Senden von E-Mails verwendet</li>
<li><code>EMAIL_HOST_PASSWORD</code> | Das Passwort von Deinem E-Mail-Dienst</li>
</ul>
</li>
<li>Nginx konfigurieren<ul>
<li>Copy the server_config to nginx's conf.d: <code>cp nginx/server_config /etc/nginx/conf.d/server_config</code></li>
<li>Make a copy of the production template config and set it for use in nginx: <code>cp nginx/production /etc/nginx/sites-available/bookwyrm.conf</code></li>
<li>Aktualisiere nginx <code>bookwyrm.conf</code>:<ul>
<li>Replace <code>your-domain.com</code> with your domain name everywhere in the file (including the lines that are currently commented out)</li>
<li>Replace <code>/app/</code> with your install directory <code>/opt/bookwyrm/</code> everywhere in the file (including commented out)</li>
<li>Zeilen 18 bis 67 entkommentieren, um die Weiterleitung zu HTTPS zu ermöglichen. You should have two <code>server</code> blocks enabled</li>
<li>Change the <code>ssl_certificate</code> and <code>ssl_certificate_key</code> paths to your fullchain and privkey locations</li>
<li>Change line 4 so that it says <code>server localhost:8000</code>. Sie können hier einen anderen Port wählen, wenn Sie möchten</li>
<li>If you are running another web-server on your host machine, you will need to follow the <a href="/reverse-proxy.html">reverse-proxy instructions</a></li>
</ul>
</li>
<li>Enable the nginx config: <code>ln -s /etc/nginx/sites-available/bookwyrm.conf /etc/nginx/sites-enabled/bookwyrm.conf</code></li>
<li>Reload nginx: <code>systemctl reload nginx</code></li>
</ul>
</li>
<li>Einrichtung der virtuellen Python-Umgebung<ul>
<li>Make the python venv directory in your install dir: <code>mkdir venv</code> <code>python3 -m venv ./venv</code></li>
<li>Install bookwyrm python dependencies with pip: <code>./venv/bin/pip3 install -r requirements.txt</code></li>
</ul>
</li>
<li>
<p>Make the bookwyrm postgresql database. Make sure to change the password to what you set in the <code>.env</code> config:</p>
<p><code>sudo -i -u postgres psql</code></p>
</li>
</ul>
<pre><code>CREATE USER bookwyrm WITH PASSWORD 'securedbypassword123';

CREATE DATABASE bookwyrm TEMPLATE template0 ENCODING 'UNICODE';

ALTER DATABASE bookwyrm OWNER TO bookwyrm;

GRANT ALL PRIVILEGES ON DATABASE bookwyrm TO bookwyrm;

\q
</code></pre>
<ul>
<li>Migrate the database schema by running <code>venv/bin/python3 manage.py migrate</code></li>
<li>Initialize the database by running <code>venv/bin/python3 manage.py initdb</code></li>
<li>Create the static by running <code>venv/bin/python3 manage.py collectstatic --no-input</code></li>
<li>If you wish to use an external storage for static assets and media files (such as an S3-compatible service), <a href="/external-storage.html">follow the instructions</a> until it tells you to come back here</li>
<li>
<p>Create and setup your <code>bookwyrm</code> user</p>
<ul>
<li>Make the system bookwyrm user: <code>useradd bookwyrm -r</code></li>
<li>Change the owner of your install directory to bookwyrm: <code>chown -R bookwyrm:bookwyrm /opt/bookwyrm</code></li>
<li>You should now run bookwyrm related commands as the bookwyrm user: <code>sudo -u bookwyrm echo I am the $(whoami) user</code></li>
</ul>
</li>
<li>
<p>Generate the admin code with <code>sudo -u bookwyrm venv/bin/python3 manage.py admin_code</code>, and copy the admin code to use when you create your admin account.</p>
</li>
<li>You can get your code at any time by re-running that command. Hier ist eine Beispielausgabe:</li>
</ul>
<pre><code class="language-sh">*******************************************
Use this code to create your admin account:
c6c35779-af3a-4091-b330-c026610920d6
*******************************************
</code></pre>
<ul>
<li>Make and configure the run script<ul>
<li>Make a file called dockerless-run.sh and fill it with the following contents</li>
</ul>
</li>
</ul>
<pre><code class="language-sh">#!/bin/bash

# stop if one process fails
set -e

# bookwyrm
/opt/bookwyrm/venv/bin/gunicorn bookwyrm.wsgi:application --bind 0.0.0.0:8000 &amp;

# celery
/opt/bookwyrm/venv/bin/celery -A celerywyrm worker -l info -Q high_priority,medium_priority,low_priority &amp;
/opt/bookwyrm/venv/bin/celery -A celerywyrm beat -l INFO --scheduler django_celery_beat.schedulers:DatabaseScheduler &amp;
# /opt/bookwyrm/venv/bin/celery -A celerywyrm flower &amp;
</code></pre>
<pre><code>- Replace `/opt/bookwyrm` with your install dir
- Ändere `8000` auf deine eigene Portnummer
- Flower wurde hier deaktiviert, da es nicht automatisch mit dem Passwort in der `.env` Datei konfiguriert ist
</code></pre>
<ul>
<li>You can now run BookWyrm with: <code>sudo -u bookwyrm bash /opt/bookwyrm/dockerless-run.sh</code></li>
<li>The application should be running at your domain. When you load the domain, you should get a configuration page which confirms your instance settings, and a form to create an admin account. Use your admin code to register.</li>
<li>You may want to configure BookWyrm to autorun with a systemd service. Hier ist ein Beispiel:</li>
</ul>
<pre><code># /etc/systemd/system/bookwyrm.service
[Unit]
Description=Bookwyrm Server
After=network.target
After=systemd-user-sessions.service
After=network-online.target

[Service]
User=bookwyrm
Type=simple
Restart=always
ExecStart=/bin/bash /opt/bookwyrm/dockerless-run.sh
WorkingDirectory=/opt/bookwyrm/

[Install]
WantedBy=multi-user.target
</code></pre>
<p>Du musst einen Cron-Job einrichten, damit der Dienst beim Neustart automatisch starten kann.</p>
<p>Glückwunsch! Du hast es geschafft!! Configure your instance however you'd like.</p>
<h2>Mitmachen</h2>
<p>Siehe <a href="https://joinbookwyrm.com/get-involved/">Mitmachen</a> für Details.</p>
</section>

        </div>
    </div>
</section>
</div>

<footer id="contentinfo" class="footer">
    <div class="container is-max-desktop">
        <div class="columns">
            <div class="column content">
                <p>
                    <strong>BookWyrm</strong> ist eine kollaborative, nichtkommerzielle Software, die von <a href='https://www.mousereeve.com/'>Mouse Reeve</a> betrieben wird.
                </p>
                <p>
                    Unterstütze BookWyrm auf <a href='https://www.patreon.com/bookwyrm' target='_blank'>Patreon</a>.
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Machen Sie mit</h3>
                <p>
                    <a href="https://github.com/bookwyrm-social">BookWyrm auf GitHub</a>
                </p>
                <p>
                    <a href="https://github.com/bookwyrm-social/join-bookwyrm">Zu dieser Seite beitragen</a>
                </p>
                <p>
                    <a href="https://twitter.com/BookWyrmSocial" target="_blank">
                        <span class="icon icon-twitter"><span class="is-sr-only">Twitter</span></span>
                    </a>
                    <a href="https://tech.lgbt/@bookwyrm" target="_blank" rel="me">
                        <span class="icon icon-mastodon"><span class="is-sr-only">Mastodon</span></span>
                    </a>
                    <a href="https://www.patreon.com/bookwyrm" target="_blank">
                        <span class="icon icon-patreon"><span class="is-sr-only">Patreon</span></span>
                    </a>
                </p>
            </div>
            <div class="column">
                <h3 class="title is-6">Mehr erfahren</h3>
                <p>
                    <a href="https://docs.joinbookwyrm.com">Dokumentation</a>
                </p>
                <p>
                    <a href="mailto:mousereeve@riseup.net">Betreiber*in kontaktieren</a>
                </p>
                <p>
                    <a href="https://raw.githubusercontent.com/bookwyrm-social/join-bookwyrm/main/LICENSE.md">Lizenz</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript">
    (function() {
        var languageSelector = document.getElementById("language_selection");
        languageSelector.onchange = function(event) {
            var current_locale = "de/";
            var current_location = window.location.pathname;

            var locale_index = current_location.indexOf(current_locale);
            var new_location = "/" + event.target.value;

            if (locale_index) {
                new_location += current_location.slice(locale_index + current_locale.length);
            } else {
                new_location += current_location.slice(1);
            }

            window.location = new_location;
        }
    })()
</script>

</body>
</html>